#include <torch/csrc/utils/pythoncapi_compat.h>

int main() {
  PyObject *list = PyList_New(2);

  for (auto i = 0; i < 2; ++i) {
    PyObject *anint = PyLong_FromLong(i + 1);
    PyList_SET_ITEM(list, i, anint);
  }

  auto a = PyList_GetItemRef(list, 0);

  return 0;
}

int r = main();

// auto lol = torch::getTHPLayout(static_cast<c10::Layout>(1));
